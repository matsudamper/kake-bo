query UserIsLoggedIn {
    user {
        isLoggedIn
    }
}

query GetConfig {
    user {
        settings {
            imapConfig {
                ... DisplayImapConfig
            }
        }
    }
}

fragment DisplayImapConfig on UserImapConfig {
    hasPassword
    userName
    port
    host
}

query GetMail($mailQuery: MailQuery!) {
    user {
        userMailAttributes {
            mail(mailQuery: $mailQuery) {
                cursor
                error
                usrMails {
                    subject
                    from
                    sender
                    html
                    plain
                }
            }
        }
    }
}
query HomeScreen {
    user {
        userMailAttributes {
            mailCount
        }
        importedMailAttributes {
            count(query: {
                isLinked: false
            })
        }
    }
}

query MailLinkScreenGetMails(
    $query: ImportedMailQuery!
) {
    user {
        importedMailAttributes {
            mails(query: $query) {
                cursor
                nodes {
                    from
                    subject
                    plain
                    html
                    time
                    suggestUsages {
                        title
                        description
                        date
                        price
                        service {
                            id
                            name
                        }
                        type {
                            id
                            name
                        }
                    }
                }
            }
        }
    }
}
